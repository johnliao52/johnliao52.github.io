---
layout: default
title: download and compile android aosp skills
---

<h2>{{page.title}}</h2>

<h3>git</h3>
<p>
	<ul>
		<li>sync specific branch of android code in a loop to overcome network unstable problem </li>
		<p>#!/bin/bash<br>
		PATH=../:$PATH<br>
		./repo sync -j6 --force-sync<br>
		while [$? -ne 0]<br>
			do<br>
			echo '=================== sync failed, re-sync again ====='<br>
			sleep 3<br>
			./repo sync -j6 --force-sync<br>
		done<br>
		<li>fetch all branches of android code in a loop to overcome network unstable problem </li>
		<p>
		
			#!/bin/bash<br>
			PATH=../:$PATH<br>
			./repo forall -c git fetch aosp<br>
			while [$? -ne 0]<br>
				do<br>
				echo '=================== fetch failed, re-fetch again ====='<br>
				sleep 3<br>
				./repo forall -c git fetch aosp<br>
			done<br>
		</p>
		
		<li>make android code in a loop until success, if get similar errors like following, this is normally duo to memory stability issue, try </li>
		<p>#!/bin/bash<br>
			make -j6<br>
			while [ $? -ne 0 ] <br>
			do<br>
				echo "makecmd loop failure!"<br>
				sleep 3<br>
				make -j6<br>
			done<br>
			echo "makecmd loop success!"<br>
		</p>

	</ul>
<p/>
<p>{{page.date | date_to_string}}</p>